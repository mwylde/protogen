simple = {
  public f1_u1: u1;
  public f2_u1: u1;
  public f3_u2: u2;
  public f4_u4: u4;
  public f5_u32: u32;
  public f6_u8_5: [u8; 5];
}


simple2 = {
  public f1: u32;
  public type: u32;
  public sub: submessage();
}

submessage = {
  public id: [u8; 5];
}

vars = {
  @f1: u32;
  public f2: u32 = @f1 + 9;
}

vars2 = {
  @len: u32;
  public data: [u8; @len];
}

/*
vars3 = {
  @len: u8;
  @type: u16;
  @data: [u8; @len];
  public sub: apply @data choose {
    Submessage1 = submessage_2ary_1(@len + 5, @type) |
    Submessage2 = submessage_2ary_2(@len, @type)
  };
}

submessage_2ary_1($a1: u8, $a2: u16 = 0x1) = {
  public f1: [u8; $a1];
}

submessage_2ary_2($a1: u8, $a2: u16 = 0x2) = {
  public f1: [u8; $a1];
}
*/